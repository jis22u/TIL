## [프로세스 #1](https://core.ewha.ac.kr/publicview/C0101020140318134023355997?vmode=f)

> 프로세스란 하나의 실행 중인 프로그램을 뜻한다. 먼저 프로세스는 프로세스의 현재 시점이 전체적으로 어떤 상태인지 나타내는 문맥context을 가지고 있다. 또한 프로세스는 상태state가 변경되며 수행되는데, CPU와 관련하여 어떠한 상태State 인지를 나타낼 수 있다.

<br>

### 프로세스의 개념

1. 정의

- Process: '실행 중인 프로그램'

<br>

2. 프로세스의 문맥(context)
   > '프로그램의 시작과 종료 사이의 어느 한 지점'으로, 프로그램이 무엇을 어떻게 실행했는지 혹은 프로그램의 현재 시점이 어떤 상태인지를 나타냄

- CPU 수행 상태를 나타내는 하드웨어 문맥  
  Program Counter <br>
  각종 register가 현재 어떤 값을 가지고 있는지
- 프로세스의 주소 공간(code, data, stack)  
  메모리와 관련 <br>
  code, data, stack에 어떤 내용이 담겨있는지
- 프로세스 관련 커널 자료 구조  
  PCB(Process Control Block) <br>
  Kernel stack

<br>

### 프로세스의 상태 (Process State)

프로세스는 상태(state)가 변경되며 수행된다.

1. Running  
   CPU를 잡고 instruction을 수행 중인 상태
2. Ready  
   CPU를 기다리는 상태  
   다만, 메모리 등 다른 조건은 모두 만족한 상태임
3. Blocked (wait, sleep)  
   CPU를 주어도 당장 instruction을 수행할 수 없는 상태  
   Process 자신이 요청한 event(예를 들어, I/O)가 즉시 만족되지 않아 이를 기다리는 경우  
   또한 디스크에서 file을 읽어와야 하는 경우
4. New  
   프로세스가 생성 중인 상태
5. Terminated  
   수행(execution)이 끝난 상태  
   약간의 뒷정리가 필요한 상태

- 이미지 참고: '프로세스의 상태'

<br>

### Process Control Block(PCB)

1. 정의  
   운영체제가 각 프로세스를 관리하기 위해 프로세스당 유지하는 정보

2. 구성 요소(구조체로 유지)

- OS가 관리상 사용하는 정보  
  Process state, Process ID  
  scheduling information, priority

- CPU 수행 관련 하드웨어 값  
  Program counter, registers

- 메모리 관련  
  Code, data, stack의 위치 정보

- 파일 관련  
  Open file descriptors

<br>

### 문맥 교환 (Context Switch)

1. 정의  
   CPU를 한 프로세스에서 다른 프로세스로 넘겨주는 과정

2. CPU가 다른 프로세스에게 넘어갈 때 운영체제는 다음을 수행한다.

- CPU를 내어주는 프로세스의 상태를 그 프로세스의 PCB에 저장  
  이는 이후에 CPU를 다시 얻어올 때 과거에 CPU를 내어주던 그 시점의 문맥을 기억해두었다가 그 시점부터 다시 시작할 수 있도록 해준다.
- CPU를 새롭게 얻는 프로세스의 상태를 PCB에서 읽어옴

3. System call이나 Interrupt 발생시 반드시 content switch가 일어나는 것은 아님  
   ....? 이해불가.....................  
   시스템콜..  
   타이머인터럽트 CPU를 다른 프로세스에 넘기기 위한 의도를 가지는 애..얘는 문맥 교환이 일어난거라고???위의 경우인듯

4. timer interrupt 혹은 I/O 요청 systemcall의 경우는 문맥교환이 일어난 것

<br>

### 프로세스를 스케줄링하기 위한 큐

1. Job queue  
   현재 시스템 내에 있는 모든 프로세스의 집합
2. Ready queue  
   현재 메모리 내에 있으면서 CPU를 잡아서 실행되기를 기다리는 프로세스의 집합
3. Device queue  
   I/O device의 처리를 기다리는 프로세스의 집합
4. 프로세스들은 각 큐들을 오가며 수행된다

### 스케줄러 (Scheduler)

1. Long-term scheduler (장기 스케쥴러 or job scheduler)
   > 프로세스가 시작new에서 ready 상태로 넘어가는 과정에는 메모리memory에 올라가는 것에 대해 admitted 되어야 하는데,
   > 해당 프로세스에 메모리를 줄지 안줄지 admit하는 것이 장기 스케줄러의 역할이다.

- 시작 프로세스 중 어떤 것들을 ready queue로 보낼지 결정
- 프로세스에 memory(및 각종 자원)을 주는 문제
- degree of Multiprogramming을 제어
- time sharing system에는 보통 장기 스케줄러가 없음(무조건 ready)

<br>

2. Short-term scheduler (단기 스케줄러 or CPU scheduler)

- 어떤 프로세스를 다음 번에 running 시킬지 결정
- 프로세스에 CPU를 주는 문제
- 충분히 빨라야 함(millisecond 단위)

<br>

3. Medium-Term scheduler (중기 스케줄러 or Swapper)

- 여유 공간 마련을 위해 프로세스를 통째로 메모리에서 디스크로 쫓아냄
- 프로세스에게서 memory를 뺏는 문제
- degree of Multiprogramming을 제어 (현재 시스템에서는 장기 스케줄러가 없고 무조건 ready 상태로 올리는데, 이때 중기 스케줄러가 메모리에 올라가있는 전체 프로세스 수degree of Multiprogramming를 조정함)

<br>

## [프로세스 #2](https://core.ewha.ac.kr/publicview/C0101020140321141759959993?vmode=f)

### 질문 답변 > [1, 2장 운영체제 개요 및 컴퓨터시스템의 구조](/운영체제/1,-2장-운영체제-개요-및-컴퓨터시스템의-구조.md)

### Thread

-

## 프로세스 #3

### Single and Multithreaded Processes

-

### Benefits of Threads

-

### Implementation of Threads

-
